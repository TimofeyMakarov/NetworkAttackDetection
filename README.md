NetworkAttackDetection
----------------------

üöÄ**–î–µ—Ç–µ–∫—Ç–æ—Ä —Å–µ—Ç–µ–≤—ã—Ö –∞—Ç–∞–∫ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è 99.7%** üî•

–î–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π C++ –ø—Ä–æ–µ–∫—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –º–æ–¥–µ–ª–∏, –¥–µ—Ç–µ–∫—Ç–∏—Ä—É—é—â–µ–π —Å–µ—Ç–µ–≤—ã–µ –∞—Ç–∞–∫–∏. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```
NetworkAttackDetection/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ NetworkAtackDetection_Data.csv
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îî‚îÄ‚îÄ ONNXModel.h
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ DecisionTree_CICIDS2017_NetworkAttackDetector_v1.onnx
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ ONNXModel.cpp
‚îÇ   ‚îî‚îÄ‚îÄ main.cpp
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îî‚îÄ‚îÄ README.md
```

## üòé –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞
1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ –ª—é–±—É—é –ø–∞–ø–∫—É (—É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ø—É—Ç–∏ –∫ –ø–∞–ø–∫–µ –Ω–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã):
   ```
   git clone https://github.com/TimofeyMakarov/NetworkAttackDetection.git
   ```
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–∞–ø–∫—É:
   ```
   cd NetworkAttackDetection
   ```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è, —á—Ç–æ–± –ø—Ä–æ–µ–∫—Ç –Ω–∞—à—ë–ª onnxruntime:
   ```
   # –î–ª—è Windows
   setx ONNXRUNTIME_ROOT "C:\path\to\onnxruntime"
   # –î–ª—è Linux
   export ONNXRUNTIME_ROOT=/path/to/onnxruntime
   ```
4. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```
   cmake -B build
   cmake --build build --config Release
   # –ò–ª–∏ –≤ VisualStudio: Build -> Build Solution (Ctrl+Shift+B)
   ```
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å —Å–æ–±—Ä–∞–Ω–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```
   # –ó–∞–ø—É—Å–∫ —Å –º–æ–¥–µ–ª—å—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ sample_data.csv
   ./network_ids.exe
   ```

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å **—Å–æ —Å–≤–æ–µ–π –º–æ–¥–µ–ª—å—é –∏ –¥–∞–Ω–Ω—ã–º–∏**:
1. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ your_model.onnx –≤ –ø–∞–ø–∫—É models
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ your_data.csv –≤ –ø–∞–ø–∫—É data
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ üöÄ**:
   ```
   ./network_ids.exe your_model.onnx your_data.csv
   ```

**Note**: –º–æ–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫–∞—á–∞—Ç—å [NetworkAttackDetection_Data.csv](https://drive.google.com/file/d/1Q057HJJTlS60P7vTorK9-n5MTFAadQ_7/view?usp=sharing), –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ—Ö–æ–¥–∏–ª–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ —Ä–∞–≤–Ω–∞ 99.7% üëç

### ‚ùóÔ∏è Prerequisites
- C++17 compiler
- CMake 3.15+
- ONNX Runtime 1.23+

## üî• –í—ã–±–æ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞
–ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ **CIC-IDS2017**, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π Canadian Institute for Cybersecurity (CIC), –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∫–∞–∫ —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –∞—Ç–∞–∫ (–≤ —Ç–æ–º —á–∏—Å–ª–µ DoS/DDoS –∏ PortScan), —Ç–∞–∫ –∏ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫. –¢—Ä–∞—Ñ–∏–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π —Å–µ—Ç–µ–≤–æ–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏. 

–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å                                | –ó–Ω–∞—á–µ–Ω–∏–µ
------------------------------------------|---------
–ö–æ–ª-–≤–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ features | **78** 
–ö–æ–ª-–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤                  | **6**
–ö–æ–ª-–≤–æ samples                            | **2,826,550**

## üå≥ –í—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞
–î–ª—è –∑–∞–¥–∞—á–∏ –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å–µ—Ç–µ–≤—ã—Ö –∞—Ç–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —è –≤—ã–±—Ä–∞–ª –∞–ª–≥–æ—Ä–∏—Ç–º Decision Tree –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:

- **–°–∫–æ—Ä–æ—Å—Ç—å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞** –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ O(logN), –≥–¥–µ N - –∫–æ–ª-–≤–æ –≤–µ—Ä—à–∏–Ω –≤ –¥–µ—Ä–µ–≤–µ. –í –∫–æ–¥–µ –Ω–∏–∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ logN –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º max_depth, –∫–æ—Ç–æ—Ä—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–µ–Ω 10, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫. –≠—Ç–æ –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è real-time.
- **–≠–∫–æ–Ω–æ–º–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** –æ–±—É—Å–ª–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–µ—Ä–µ–≤–∞ (—Å —É—á—ë—Ç–æ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è max_depth = 10, –∫–æ–ª-–≤–æ –≤–µ—Ä—à–∏–Ω –Ω–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç 1024, –∞ –≤ —Å—Ä–µ–¥–Ω–µ–º —ç—Ç–æ –∫–æ–ª-–≤–æ –≤—Å–µ–≥–¥–∞ –º–µ–Ω—å—à–µ –∏ –æ–∂–∏–¥–∞–µ—Ç—Å—è –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ 150 –≤–µ—Ä—à–∏–Ω).
- **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–µ—Ä–µ–≤–∞ —Ä–µ—à–µ–Ω–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∞—Ç–∞–∫.
- **–¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏**, –æ–±—É—á–µ–Ω–Ω–æ–π –¥–∞–Ω–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º, –∫–∞–∫ –ø–æ–∫–∞–∂–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∏–∂–µ, –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞ –∏ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 99.7%
    
## üèÖ –í—ã–±–æ—Ä –º–µ—Ç—Ä–∏–∫
–î–ª—è –æ—Ü–µ–Ω–∫–∏ –º–æ–¥–µ–ª–∏ –±—ã–ª–∏ –≤—ã–±—Ä–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
- –û–±—â–∏–π **accuracy**
- –î–ª—è —É—á—ë—Ç–∞ –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ –∫–ª–∞—Å—Å–æ–≤ –±—ã–ª–∏ –ø–æ—Å—á–∏—Ç–∞–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø–æ-–æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏: **precision**, **recall**, **f1-score**, **support**
- **balanced accuracy** –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è accuracy —Å —É—á—ë—Ç–æ–º –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ –∫–ª–∞—Å—Å–æ–≤ (—Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ recall –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤)
- **Confusion Matrix** –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- –î–ª—è —É—á—ë—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±—ã–ª–∏ –≤—ã–±—Ä–∞–Ω—ã —Ç–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞–∫: **—Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è** –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –Ω–∞ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ (–º—Å) –∏ **–ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** (–ø–æ—Ç–æ–∫–æ–≤/—Å–µ–∫)

## ü§´ –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –º–æ–¥–µ–ª–∏
–ü–µ—Ä–µ–π–¥—è –ø–æ —Å—Å—ã–ª–∫–µ, –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ [–Ω–æ—É—Ç–±—É–∫ —Å –æ–±—É—á–µ–Ω–∏–µ–º](https://colab.research.google.com/drive/19HVgpaWT9SLWWvfBy-g1t9P1rcoHKkhO?usp=sharing) ML-–º–æ–¥–µ–ª–∏. –ö—Ä–æ–º–µ –æ–±—É—á–µ–Ω–∏—è —Ç–∞–º —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–æ–≤ —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—å—é: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞, –ø–æ–¥—Å—á—ë—Ç –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è.
